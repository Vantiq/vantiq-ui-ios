<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>VantiqUI Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">VantiqUI Class </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">VANTIQ, Inc.</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/preferredUsername">preferredUsername</option>
		
		<option value="//api/name/serverType">serverType</option>
		
		<option value="//api/name/username">username</option>
		
		<option value="//api/name/v">v</option>
		
	</optgroup>
	

	
	<optgroup label="Class Methods">
		
		<option value="//api/name/convertAPNSToken:">+ convertAPNSToken:</option>
		
	</optgroup>
	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/JSONStringToDictionary:">- JSONStringToDictionary:</option>
		
		<option value="//api/name/authWithInternal:password:completionHandler:">- authWithInternal:password:completionHandler:</option>
		
		<option value="//api/name/authWithOAuth:clientId:completionHandler:">- authWithOAuth:clientId:completionHandler:</option>
		
		<option value="//api/name/createInternalUser:password:email:firstName:lastName:phone:completionHandler:">- createInternalUser:password:email:firstName:lastName:phone:completionHandler:</option>
		
		<option value="//api/name/dictionaryToJSONString:">- dictionaryToJSONString:</option>
		
		<option value="//api/name/doBFTasksWithCompletionHandler:completionHandler:">- doBFTasksWithCompletionHandler:completionHandler:</option>
		
		<option value="//api/name/ensureValidToken:">- ensureValidToken:</option>
		
		<option value="//api/name/formError:error:resultStr:">- formError:error:resultStr:</option>
		
		<option value="//api/name/init:namespace:completionHandler:">- init:namespace:completionHandler:</option>
		
		<option value="//api/name/locationManager:didUpdateLocations:">- locationManager:didUpdateLocations:</option>
		
		<option value="//api/name/logout:">- logout:</option>
		
		<option value="//api/name/processPushNotification:completionHandler:">- processPushNotification:completionHandler:</option>
		
		<option value="//api/name/publishCurrentLocation:">- publishCurrentLocation:</option>
		
		<option value="//api/name/serverType:">- serverType:</option>
		
		<option value="//api/name/verifyAuthToken:">- verifyAuthToken:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">VantiqUI Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSObject</td>
</tr><tr>
	<th>Conforms to</th>
	<td>CLLocationManagerDelegate</td>
</tr><tr>
	<th>Declared in</th>
	<td>VantiqUI.h<br />VantiqUI.m</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The VantiqUI class declares the interface for authentication and subsequent interaction with a Vantiq server.</p>

<p>Session Information Dictionary Keys</p>

<p>The keys listed below are returned in the response dictionary returned by the following methods: <a href="#//api/name/serverType">serverType</a>, verifyAuthToken, authWithOAuth, and authWithInternal.</p>

<p>• <a href="#//api/name/serverType">serverType</a> (NSString): the type of authentication used by the given Vantiq server, either @&ldquo;Internal&rdquo; or @&ldquo;OAuth&rdquo;</p>

<p>• authValid (BOOL): is the previously establed authentication token valid</p>

<p>• <a href="#//api/name/username">username</a> (NSString): the <a href="#//api/name/username">username</a> of the authenticated user</p>

<p>• <a href="#//api/name/preferredUsername">preferredUsername</a> (NSString): the preferred <a href="#//api/name/username">username</a> of the authenticated user, will be the same as the <a href="#//api/name/username">username</a> for Internal authentication</p>

<p>• errorStr (NSString): a text description of any error that occurred, will be the empty string (@&ldquo;&rdquo;) if there is no error</p>

<p>• statusCode (NSNumber): the HTTP status code of any related REST operations</p>

<p>(Not all keys will be present depending on error conditions and the method.)</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/v" title="v"></a>
	<h3 class="method-title"><code><a href="#//api/name/v">&nbsp;&nbsp;v</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Instance of the underlying Vantiq class for direct communication to the Vantiq SDK</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readonly, nonatomic) Vantiq *v</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Instance of the underlying Vantiq class for direct communication to the Vantiq SDK</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/username" title="username"></a>
	<h3 class="method-title"><code><a href="#//api/name/username">&nbsp;&nbsp;username</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>User name of the last authenticated user.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readonly, nonatomic) NSString *username</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>User name of the last authenticated user.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/preferredUsername" title="preferredUsername"></a>
	<h3 class="method-title"><code><a href="#//api/name/preferredUsername">&nbsp;&nbsp;preferredUsername</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Preferred user name of the last authenticated user.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readonly, nonatomic) NSString *preferredUsername</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Preferred user name of the last authenticated user.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/serverType" title="serverType"></a>
	<h3 class="method-title"><code><a href="#//api/name/serverType">&nbsp;&nbsp;serverType</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Type of the server, will be either &lsquo;Internal&rsquo; or &lsquo;OAuth&rsquo;</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (readonly, nonatomic) NSString *serverType</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Type of the server, will be either &lsquo;Internal&rsquo; or &lsquo;OAuth&rsquo;</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/init:namespace:completionHandler:" title="init:namespace:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/init:namespace:completionHandler:">&ndash;&nbsp;init:namespace:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Constructor for use with all other Vantiq UI and server operations.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (id _Nullable)init:(NSString *_Nonnull)<em>serverURL</em> namespace:(NSString *_Nonnull)<em>targetNamespace</em> completionHandler:(void ( ^ _Nonnull ) ( NSDictionary *_Nonnull response ))<em>handler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>serverURL</code></th>
						<td><p>Server URL, e.g. <a href="https://dev.vantiq.com">https://dev.vantiq.com</a></p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>targetNamespace</code></th>
						<td><p>Vantiq Namespace in which to operate, not currently used</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>handler</code></th>
						<td><p>The handler block to execute.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Constructor for use with all other Vantiq UI and server operations.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/serverType:" title="serverType:"></a>
	<h3 class="method-title"><code><a href="#//api/name/serverType:">&ndash;&nbsp;serverType:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The <a href="#//api/name/serverType">serverType</a> method determines if the given server uses Internal (username/password) or OAuth (via
Keycloak) for authentication. If a subsequent call to <em>verifyAuthToken</em> indicates the current access token
is invalid or doesn&rsquo;t exist, use the isInternal return to determine if the user should authenticate using
authWithInternal or authWithOAuth.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)serverType:(void ( ^ _Nonnull ) ( NSDictionary *_Nullable response ))<em>handler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>handler</code></th>
						<td><p>The handler block to execute.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>response: dictionary containing session information, see Session Information Dictionary Keys above</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The <a href="#//api/name/serverType">serverType</a> method determines if the given server uses Internal (username/password) or OAuth (via
Keycloak) for authentication. If a subsequent call to <em>verifyAuthToken</em> indicates the current access token
is invalid or doesn&rsquo;t exist, use the isInternal return to determine if the user should authenticate using
authWithInternal or authWithOAuth.</p><div class="warning"><p><strong>Warning:</strong> Please also note this method invokes a callback block associated with a network-
related block. Because this block is called from asynchronous network operations,
its code must be wrapped by a call to <em>dispatch_async(dispatch_get_main_queue(), ^ {&hellip;});</em>
to ensure any UI operations are completed on the main thread.</p></div>
			</div>
			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="#//api/name/verifyAuthToken:">- verifyAuthToken:</a></p></code></li>
					
					<li><code><p><a href="#//api/name/authWithInternal:password:completionHandler:">- authWithInternal:password:completionHandler:</a></p></code></li>
					
					<li><code><p><a href="#//api/name/authWithOAuth:clientId:completionHandler:">- authWithOAuth:clientId:completionHandler:</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/verifyAuthToken:" title="verifyAuthToken:"></a>
	<h3 class="method-title"><code><a href="#//api/name/verifyAuthToken:">&ndash;&nbsp;verifyAuthToken:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The verifyAuthToken method determines if a previously opaquely-saved access token is still valid. If
not, then one of <em>authWithInternal</em> or <em>authWithOAuth</em> must be called to generate a new access token.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)verifyAuthToken:(void ( ^ _Nonnull ) ( NSDictionary *_Nullable response ))<em>handler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>handler</code></th>
						<td><p>The handler block to execute.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>response: dictionary containing session information, see Session Information Dictionary Keys above</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The verifyAuthToken method determines if a previously opaquely-saved access token is still valid. If
not, then one of <em>authWithInternal</em> or <em>authWithOAuth</em> must be called to generate a new access token.</p><div class="warning"><p><strong>Warning:</strong> Please also note this method invokes a callback block associated with a network-
related block. Because this block is called from asynchronous network operations,
its code must be wrapped by a call to <em>dispatch_async(dispatch_get_main_queue(), ^ {&hellip;});</em>
to ensure any UI operations are completed on the main thread.</p></div>
			</div>
			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="#//api/name/authWithInternal:password:completionHandler:">- authWithInternal:password:completionHandler:</a></p></code></li>
					
					<li><code><p><a href="#//api/name/authWithOAuth:clientId:completionHandler:">- authWithOAuth:clientId:completionHandler:</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/authWithOAuth:clientId:completionHandler:" title="authWithOAuth:clientId:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/authWithOAuth:clientId:completionHandler:">&ndash;&nbsp;authWithOAuth:clientId:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The authWithOAuth method retrieves an OAuth access token from a Keycloak server associated
with the Vantiq server. This is an opaque access token maintained by the VantiqUI class. This
method should be called if the <em>verifyAuthToken</em> returns false in its <em>isInternal</em> callback return.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)authWithOAuth:(NSString *)<em>urlScheme</em> clientId:(NSString *)<em>clientId</em> completionHandler:(void ( ^ _Nonnull ) ( NSDictionary *response ))<em>handler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>urlScheme</code></th>
						<td><p>A URL scheme configured in the Keycloak server used to complete the OAuth authentication process</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>clientId</code></th>
						<td><p>A Client ID configured in the Keycloak sever used to identify the mobile app</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>handler</code></th>
						<td><p>The handler block to execute.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>response: dictionary containing session information, see Session Information Dictionary Keys above</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The authWithOAuth method retrieves an OAuth access token from a Keycloak server associated
with the Vantiq server. This is an opaque access token maintained by the VantiqUI class. This
method should be called if the <em>verifyAuthToken</em> returns false in its <em>isInternal</em> callback return.</p><div class="warning"><p><strong>Warning:</strong> Please also note this method invokes a callback block associated with a network-
related block. Because this block is called from asynchronous network operations,
its code must be wrapped by a call to <em>dispatch_async(dispatch_get_main_queue(), ^ {&hellip;});</em>
to ensure any UI operations are completed on the main thread.</p></div>
			</div>
			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="#//api/name/verifyAuthToken:">- verifyAuthToken:</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/authWithInternal:password:completionHandler:" title="authWithInternal:password:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/authWithInternal:password:completionHandler:">&ndash;&nbsp;authWithInternal:password:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The authWithInternal method retrieves an access token from the Vantiq server based on the
user-supplied <a href="#//api/name/username">username</a> and password. This is an opaque access token maintained by the VantiqUI class. This
method should be called if the <em>verifyAuthToken</em> returns true in its <em>isInternal</em> callback return.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)authWithInternal:(NSString *)<em>username</em> password:(NSString *)<em>password</em> completionHandler:(void ( ^ _Nonnull ) ( NSDictionary *response ))<em>handler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>username</code></th>
						<td><p>The <a href="#//api/name/username">username</a> entered by the user</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>password</code></th>
						<td><p>The password entered by the user</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>handler</code></th>
						<td><p>The handler block to execute.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>response: dictionary containing session information, see Session Information Dictionary Keys above</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The authWithInternal method retrieves an access token from the Vantiq server based on the
user-supplied <a href="#//api/name/username">username</a> and password. This is an opaque access token maintained by the VantiqUI class. This
method should be called if the <em>verifyAuthToken</em> returns true in its <em>isInternal</em> callback return.</p><div class="warning"><p><strong>Warning:</strong> Please also note this method invokes a callback block associated with a network-
related block. Because this block is called from asynchronous network operations,
its code must be wrapped by a call to <em>dispatch_async(dispatch_get_main_queue(), ^ {&hellip;});</em>
to ensure any UI operations are completed on the main thread.</p></div>
			</div>
			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="#//api/name/verifyAuthToken:">- verifyAuthToken:</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/logout:" title="logout:"></a>
	<h3 class="method-title"><code><a href="#//api/name/logout:">&ndash;&nbsp;logout:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The logout method invalidates the current access token and is used to log current user out</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)logout:(void ( ^ _Nullable ) ( NSDictionary *_Nullable response ))<em>handler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>handler</code></th>
						<td><p>The handler block to execute.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>response: dictionary containing session information, see Session Information Dictionary Keys above</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The logout method invalidates the current access token and is used to log current user out</p><div class="warning"><p><strong>Warning:</strong> Please also note this method invokes a callback block associated with a network-
related block. Because this block is called from asynchronous network operations,
its code must be wrapped by a call to <em>dispatch_async(dispatch_get_main_queue(), ^ {&hellip;});</em>
to ensure any UI operations are completed on the main thread.</p></div>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/ensureValidToken:" title="ensureValidToken:"></a>
	<h3 class="method-title"><code><a href="#//api/name/ensureValidToken:">&ndash;&nbsp;ensureValidToken:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The ensureValidToken method should be used before any REST operation to attempt to have a
valid authorization token. If the current authorization token has expired, this method will attempt
to obtain a new token. The caller should check the authValid key of the returned dictionary to
determine if the current or new token is valid. If not, then it is up to the application to call either
authWithOAuth or authWithInternal depending on what kind of server is in use. The server type
is identified using the <a href="#//api/name/serverType">serverType</a> key of the returned dictionary, which will contain the value
@&ldquo;Internal&rdquo; or @&ldquo;OAuth&rdquo;.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)ensureValidToken:(void ( ^ _Nonnull ) ( NSDictionary *_Nonnull response ))<em>handler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>handler</code></th>
						<td><p>The handler block to execute.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>response: dictionary containing session information, see Session Information Dictionary Keys above</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The ensureValidToken method should be used before any REST operation to attempt to have a
valid authorization token. If the current authorization token has expired, this method will attempt
to obtain a new token. The caller should check the authValid key of the returned dictionary to
determine if the current or new token is valid. If not, then it is up to the application to call either
authWithOAuth or authWithInternal depending on what kind of server is in use. The server type
is identified using the <a href="#//api/name/serverType">serverType</a> key of the returned dictionary, which will contain the value
@&ldquo;Internal&rdquo; or @&ldquo;OAuth&rdquo;.</p><div class="warning"><p><strong>Warning:</strong> Please also note this method invokes a callback block associated with a network-
related block. Because this block is called from asynchronous network operations,
its code must be wrapped by a call to <em>dispatch_async(dispatch_get_main_queue(), ^ {&hellip;});</em>
to ensure any UI operations are completed on the main thread.</p></div>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/formError:error:resultStr:" title="formError:error:resultStr:"></a>
	<h3 class="method-title"><code><a href="#//api/name/formError:error:resultStr:">&ndash;&nbsp;formError:error:resultStr:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The formError method is a helper to produce an error string based on the NSHTTPURLResponse
and NSError responses from calls made directly to the Vantiq SDK via the <em><a href="#//api/name/v">v</a></em> class variable. If
no error is returned by the Vantiq SDK, the <em>resultStr</em> will return the empty (@&ldquo;&rdquo;) string.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (BOOL)formError:(NSHTTPURLResponse *_Nonnull)<em>response</em> error:(NSError *_Nullable)<em>error</em> resultStr:(NSString *_Nullable *_Nonnull)<em>resultStr</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>response</code></th>
						<td><p>The NSHTTPURLResponse returned from the Vantiq SDK call</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>error</code></th>
						<td><p>The NEError returned from the Vantiq SDK call</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>resultStr</code></th>
						<td><p>Pointer to an NSString instance (note the double indirection)</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>errorStr: localized version of error encountered, if any, or an empty (@&ldquo;&rdquo;) string otherwise. Check for zero-length string to indicate success.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The formError method is a helper to produce an error string based on the NSHTTPURLResponse
and NSError responses from calls made directly to the Vantiq SDK via the <em><a href="#//api/name/v">v</a></em> class variable. If
no error is returned by the Vantiq SDK, the <em>resultStr</em> will return the empty (@&ldquo;&rdquo;) string.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/dictionaryToJSONString:" title="dictionaryToJSONString:"></a>
	<h3 class="method-title"><code><a href="#//api/name/dictionaryToJSONString:">&ndash;&nbsp;dictionaryToJSONString:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The dictionaryToJSONString method is a helper to produce a string from an dictionary.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSString *_Nonnull)dictionaryToJSONString:(NSDictionary *_Nonnull)<em>dict</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>dict</code></th>
						<td><p>The dictionary</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>NSString if the string is successfully created, nil otherwise</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The dictionaryToJSONString method is a helper to produce a string from an dictionary.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/JSONStringToDictionary:" title="JSONStringToDictionary:"></a>
	<h3 class="method-title"><code><a href="#//api/name/JSONStringToDictionary:">&ndash;&nbsp;JSONStringToDictionary:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The JSONStringToDictionary method is a helper to produce a dictionary from a string.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSDictionary *_Nonnull)JSONStringToDictionary:(NSString *_Nonnull)<em>jsonString</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>dict</code></th>
						<td><p>The dictionary</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>NSDictionary if the dictionary is successfully created, nil otherwise</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The JSONStringToDictionary method is a helper to produce a dictionary from a string.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/convertAPNSToken:" title="convertAPNSToken:"></a>
	<h3 class="method-title"><code><a href="#//api/name/convertAPNSToken:">+&nbsp;convertAPNSToken:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The convertAPNSToken method is a helper to convert an APNS device token into an NSString
suitable for registering the APNS token for a Vantiq user</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>+ (NSString *_Nonnull)convertAPNSToken:(NSData *_Nonnull)<em>deviceToken</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>deviceToken</code></th>
						<td><p>The NSData return from didRegisterForRemoteNotificationsWithDeviceToken</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>NSString version of the APNS token</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The convertAPNSToken method is a helper to convert an APNS device token into an NSString
suitable for registering the APNS token for a Vantiq user</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/processPushNotification:completionHandler:" title="processPushNotification:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/processPushNotification:completionHandler:">&ndash;&nbsp;processPushNotification:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The processPushNotification method is used in the iOS app&rsquo;s AppDelegate didReceiveRemoteNotification
method to process APNS notifications.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)processPushNotification:(nonnull NSDictionary *)<em>userInfo</em> completionHandler:(void ( ^ _Nonnull ) ( BOOL notificationHandled ))<em>completionHandler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>completionHandler</code></th>
						<td><p>a method to determine whether the Vantiq UI library has handled the
notification (as in the case for location-related notifications) or whether the notification must be handled
by the calling application. The completion handler&rsquo;s notificationHandled BOOL indicates whether the
Vantiq UI library has handled the notification.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The processPushNotification method is used in the iOS app&rsquo;s AppDelegate didReceiveRemoteNotification
method to process APNS notifications.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/doBFTasksWithCompletionHandler:completionHandler:" title="doBFTasksWithCompletionHandler:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/doBFTasksWithCompletionHandler:completionHandler:">&ndash;&nbsp;doBFTasksWithCompletionHandler:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The doBFTasksWithCompletionHandler method is used in the iOS app&rsquo;s AppDelegate performFetchWithCompletionHandler
method to process background fetch calls from iOS</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)doBFTasksWithCompletionHandler:(BOOL)<em>alwaysPublish</em> completionHandler:(void ( ^ _Nonnull ) ( BOOL notificationHandled ))<em>completionHandler</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>completionHandler</code></th>
						<td><p>a method to determine whether the Vantiq UI library has handled the
background fetch call  or whether the call must be handled by the calling application. The completion
handler&rsquo;s notificationHandled BOOL indicates whether the Vantiq UI library has handled the notification.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The doBFTasksWithCompletionHandler method is used in the iOS app&rsquo;s AppDelegate performFetchWithCompletionHandler
method to process background fetch calls from iOS</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/createInternalUser:password:email:firstName:lastName:phone:completionHandler:" title="createInternalUser:password:email:firstName:lastName:phone:completionHandler:"></a>
	<h3 class="method-title"><code><a href="#//api/name/createInternalUser:password:email:firstName:lastName:phone:completionHandler:">&ndash;&nbsp;createInternalUser:password:email:firstName:lastName:phone:completionHandler:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>New User Creation</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)createInternalUser:(NSString *_Nonnull)<em>username</em> password:(NSString *_Nonnull)<em>password</em> email:(NSString *_Nullable)<em>email</em> firstName:(NSString *_Nullable)<em>firstName</em> lastName:(NSString *_Nullable)<em>lastName</em> phone:(NSString *_Nullable)<em>phone</em> completionHandler:(void ( ^ _Nonnull ) ( NSDictionary *_Nonnull response ))<em>handler</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>New User Creation</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.m</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/publishCurrentLocation:" title="publishCurrentLocation:"></a>
	<h3 class="method-title"><code><a href="#//api/name/publishCurrentLocation:">&ndash;&nbsp;publishCurrentLocation:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Location Tracking</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)publishCurrentLocation:(NSTimer *)<em>timer</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Location Tracking</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.m</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/locationManager:didUpdateLocations:" title="locationManager:didUpdateLocations:"></a>
	<h3 class="method-title"><code><a href="#//api/name/locationManager:didUpdateLocations:">&ndash;&nbsp;locationManager:didUpdateLocations:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>CLLocationManager Delegates</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)locationManager:(CLLocationManager *)<em>manager</em> didUpdateLocations:(NSArray *)<em>locations</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>CLLocationManager Delegates</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">VantiqUI.m</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2025 VANTIQ, Inc. All rights reserved. Updated: 2025-01-07</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>